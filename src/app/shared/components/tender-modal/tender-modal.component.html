<div class="modal-body">
  <form [formGroup]="tenderHeaderForm" novalidate  *ngIf="tenderHeaderForm">    
    <label for="clientName">Client Name</label>
    <input type="text" class="form-control" formControlName="clientName" placeholder="Client Name">
    
    <div *ngIf="(!tenderHeaderForm.controls.clientName.valid &&  
        tenderHeaderForm.controls.clientName.dirty)" class="error">
      <div *ngIf="tenderHeaderForm.controls.clientName.errors.invalidMsg">
        {{tenderHeaderForm.controls.clientName.errors.invalidMsg}}
      </div>
      
    </div>
    
    <div class="form-group">
      <label for="name">Tender name</label>
      <input type="text" class="form-control" formControlName="name" placeholder="Tender name">      
      <div *ngIf="!tenderHeaderForm.controls.name.valid && 
        (tenderHeaderForm.controls.name.dirty)" class="error">
        <div *ngIf="tenderHeaderForm.controls.name.errors.invalidMsg">
          {{tenderHeaderForm.controls.name.errors.invalidMsg}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="tenderName">Description</label>
      <input type="text" class="form-control" formControlName="description" placeholder="Short description..">      
      <div *ngIf="!tenderHeaderForm.controls.description.valid && 
        (tenderHeaderForm.controls.description.dirty)" class="error">
        <div *ngIf="tenderHeaderForm.controls.description.errors.invalidMsg">
          {{tenderHeaderForm.controls.description.errors.invalidMsg}}
        </div>
      </div>
    </div>


    <div class="form-group">
      <label>Open Date</label>
      <input class="form-control" placeholder="yyyy-mm-dd" formControlName="openDate" ngbDatepicker #d1="ngbDatepicker"
        (focus)="d1.toggle()" (dateSelect)="setQuoteOpenDate()">     
      <div *ngIf="!tenderHeaderForm.controls.openDate.valid && 
        (tenderHeaderForm.controls.openDate.dirty)" class="error">
        <div *ngIf="tenderHeaderForm.controls.openDate.errors.invalidMsg">
          {{tenderHeaderForm.controls.openDate.errors.invalidMsg}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Close date</label>
      <input class="form-control" placeholder="yyyy-mm-dd" formControlName="closeDate" ngbDatepicker #d2="ngbDatepicker"
       [minDate]="tenderCloseMinDate" (focus)="d2.toggle()" (dateSelect)="setQuoteCloseDate()">
      <div *ngIf="!tenderHeaderForm.controls.closeDate.valid && 
        (tenderHeaderForm.controls.closeDate.dirty)" class="error">
        <div *ngIf="tenderHeaderForm.controls.closeDate.errors.invalidMsg">
          {{tenderHeaderForm.controls.closeDate.errors.invalidMsg}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Quote Start Date</label>
      <input class="form-control" placeholder="yyyy-mm-dd" formControlName="quoteStartDate" ngbDatepicker
        #d3="ngbDatepicker" [minDate]="quoteOpenMinDate" [maxDate]="quoteOpenMaxDate" (focus)="d3.toggle()">
      <div *ngIf="!tenderHeaderForm.controls.quoteStartDate.valid && 
        (tenderHeaderForm.controls.quoteStartDate.dirty)"
        class="error">
        <div *ngIf="tenderHeaderForm.controls.quoteStartDate.errors.invalidMsg">
          {{tenderHeaderForm.controls.quoteStartDate.errors.invalidMsg}}
        </div>
      </div>
    </div>

    <div class="form-group">
      <label>Quote End Date</label>
      <input class="form-control" placeholder="yyyy-mm-dd" formControlName="quoteEndDate" ngbDatepicker
        #d4="ngbDatepicker" [minDate]="quoteCloseMinDate" [maxDate]="quoteCloseMaxDate" (focus)="d4.toggle()">
      <div *ngIf="!tenderHeaderForm.controls.quoteEndDate.valid && 
        (tenderHeaderForm.controls.quoteEndDate.dirty)"
        class="error">
        <div *ngIf="tenderHeaderForm.controls.quoteEndDate.errors.invalidMsg">
          {{tenderHeaderForm.controls.quoteEndDate.errors.invalidMsg}}
        </div>
      </div>
    </div>
    <!--  [disabled]="tenderHeaderForm.invalid"  -->
    <div *ngIf="tData.val == false">
      <button mat-raised-button type="button" [disabled]="!tenderHeaderForm.valid" (click)="save()"
        class="btn btn-danger">Save</button>
    </div>
    <div *ngIf="tData.val == true">
      <button mat-raised-button type="button" [disabled]="!tenderHeaderForm.valid" (click)="update()"
        class="btn btn-danger">Update</button>
    </div>
    <button mat-raised-button type="button" (click)="close()" class="btn btn-danger">Cancel</button>
    </form>
</div>

